DINO RL PROJECT - CHANGE LOG & DECISIONS
=========================================

Date: October 19, 2025

PROJECT DECISIONS & SETUP:
--------------------------

1. Python Version: 3.14 (latest version)
   - Using conda environment named "DINO"

2. Framework Choices:
   - Deep Learning: TensorFlow (instead of PyTorch)
   - Game Engine: Pygame
   - RL Environment: Gym

3. Project Structure:
   - Model implementation: Jupyter Notebook (.ipynb file)
   - Code organization: Guided implementation approach

4. Version Control:
   - Git repository initialized
   - Remote: https://github.com/SaiGuruInukurthi/DINO-game-RL-trial-
   - README.md created

5. Development Environment:
   - Conda environment: DINO
   - Primary dependencies: pygame, gym, tensorflow

6. Project Implementation Structure (October 19, 2025):
   - Decision: Separate notebooks for environment and model
   - Rationale: Better organization, easier debugging and iteration
   - Implementation order: Environment first (using Pygame), then model
   - Files to create:
     * dino_environment.ipynb - Game environment with Gym interface
     * dino_model.ipynb - DQN model training (to be created later)

 
7. Code movement (October 19, 2025):
   - Action: Extracted the game implementation from `dino_environment.ipynb` into a
     standalone Python module at `src/dino_game.py` to improve reusability and allow
     the training notebook to import the environment logic.
   - Rationale: A .py module is easier to test, import, and version-control than code
     embedded inside a notebook. Manual play mode and observation/step APIs are included.

8. Dependencies update (October 19, 2025):
   - Action: Switched from deprecated `gym` to `gymnasium` (the maintained replacement)
   - Reason: gym has been unmaintained since 2022 and doesn't support NumPy 2.0
   - Installation: `pip install gymnasium` in DINO conda environment
   - Code changes: `import gym` â†’ `import gymnasium as gym`

9. WSL/Headless compatibility fix (October 19, 2025):
   - Issue: Kernel was crashing due to Pygame trying to initialize OpenGL/X11 in WSL
   - Solution: Set SDL_VIDEODRIVER='dummy' when no DISPLAY is available
   - Location: Added to both src/dino_game.py and notebook imports
   - Effect: Prevents kernel crashes in notebook environments without X server

10. Platform Switch (October 19, 2025):
   - Decision: Switching from WSL to native Windows for development
   - Reason: WSL kernel crashes with Pygame visualization, better to develop/test on Windows
   - Impact: Will be able to see game window and test manual controls properly
   - Note: The SDL_VIDEODRIVER fix remains in code for future headless/server deployment

11. Pygame Installation Fix (October 19, 2025):
   - Issue: pygame wouldn't install on Python 3.14 (setuptools error)
   - Solution: Switched to pygame-ce (pygame community edition)
   - Action: Installed pygame-ce in DINO conda environment
   - Code changes: Updated imports from `import pygame` to `import pygame_ce as pygame`
   - Files modified: src/dino_game.py, dino_environment.ipynb

12. Environment Configuration (October 19, 2025):
   - Configured notebook kernel to use DINO conda environment
   - Set workspace Python interpreter to DINO environment
   - Path: C:\Users\IC1807\anaconda3\envs\DINO\python.exe
   - All dependencies confirmed installed: pygame-ce, gymnasium, numpy

13. Environment Testing & Validation (October 19, 2025):
   - Added comprehensive test cells to dino_environment.ipynb
   - Tests include: space validation, reset function, action testing, random agent
   - Added visual testing cells for manual play and observation
   - Environment complete and ready for DQN model development

14. MAJOR PIVOT: Browser-Based Implementation (November 25, 2025):
   - Decision: Switching from Pygame to browser-based Chrome Dino game
   - Target: Actual Chrome Dino game at https://chromedino.com/
   - Technology Stack:
     * Selenium WebDriver 4.38.0 for browser automation
     * ChromeDriver for Chrome control
     * Pillow for screenshot capture and image processing
     * Screenshot rate: 20 FPS (50ms per frame, optimized for i5-12450H + RTX 3050 Mobile)
   - Rationale: 
     * Train on the ACTUAL game instead of recreation
     * More realistic and challenging environment
     * Better generalization to real Chrome Dino game
     * Eliminates need to replicate game physics exactly
   - Impact:
     * Pygame implementation archived (dino_game.py, dino_environment.ipynb)
     * New implementation: src/browser_dino_env.py (complete)
     * New documentation: BROWSER_SETUP.md
   - Architecture:
     * Screenshot-based observations (80x80 grayscale game frames)
     * Action injection via Selenium (Space/Down arrow keys)
     * Gymnasium-compatible interface
     * 20fps capture rate (50ms per frame)
   - Implementation:
     * BrowserDinoEnv class with full Gymnasium interface
     * Automatic browser initialization and game loading
     * Screenshot capture and preprocessing pipeline
     * Action space: Discrete(2) - [run, jump] (duck support ready)
     * Observation space: Box(0, 255, (80, 80), uint8)
     * Reward: +0.1/frame, +score bonus, -10.0 game over

15. Dependencies Installation (November 25, 2025):
   - Installed selenium 4.38.0 in DINO conda environment
   - Confirmed pillow 12.0.0 already installed
   - Confirmed numpy 2.3.4 already installed
   - Confirmed gymnasium 1.2.1 already installed
   - Browser environment fully functional and tested

